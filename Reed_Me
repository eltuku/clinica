# Sistema de GestiÃ³n de Turnos MÃ©dicos

Un sistema web completo para la gestiÃ³n de turnos mÃ©dicos con autenticaciÃ³n local y Google OAuth, desarrollado en PHP con MySQL.

## ğŸš€ CaracterÃ­sticas

- **AutenticaciÃ³n dual**: Login con usuario/contraseÃ±a local y Google OAuth
- **GestiÃ³n de turnos**: Crear, editar, eliminar y filtrar turnos mÃ©dicos
- **Especialidades mÃ©dicas**: ClÃ­nico, PediatrÃ­a, CardiologÃ­a, DermatologÃ­a
- **Interfaz moderna**: DiseÃ±o responsive con Tailwind CSS
- **Validaciones**: Fechas futuras, campos obligatorios
- **Seguridad**: ContraseÃ±as hasheadas, prepared statements

## ğŸ“‹ Requisitos del Sistema

- **XAMPP** (Apache + MySQL + PHP)
- **PHP 7.4+**
- **MySQL 5.7+**
- **Composer** (para dependencias de Google OAuth)
- **Navegador web moderno**

## ğŸ› ï¸ InstalaciÃ³n

### 1. Descargar e instalar XAMPP
1. Descarga XAMPP desde [https://www.apachefriends.org/](https://www.apachefriends.org/)
2. Instala XAMPP en tu sistema
3. Inicia Apache y MySQL desde el panel de control de XAMPP

### 2. Clonar/Descargar el proyecto
```bash
# OpciÃ³n 1: Si tienes Git
git clone [URL_DEL_REPOSITORIO]

# OpciÃ³n 2: Descargar ZIP
# Descarga el archivo ZIP y extrÃ¡elo en c:/xampp/htdocs/
```

### 3. Ubicar los archivos
Coloca todos los archivos del proyecto en:
```
c:/xampp/htdocs/tu-proyecto/
```

### 4. Instalar dependencias de Google OAuth
```bash
# Navega al directorio del proyecto
cd c:/xampp/htdocs/tu-proyecto/

# Instala las dependencias con Composer
composer install
```

Si no tienes Composer instalado:
1. Descarga desde [https://getcomposer.org/](https://getcomposer.org/)
2. InstÃ¡lalo siguiendo las instrucciones
3. Ejecuta `composer install` en el directorio del proyecto

### 5. Configurar la base de datos

#### Crear la base de datos:
1. Abre phpMyAdmin: [http://localhost/phpmyadmin](http://localhost/phpmyadmin)
2. Crea una nueva base de datos llamada `clinica`

#### Crear tabla de usuarios:
```sql
CREATE TABLE usuarios (
    id INT AUTO_INCREMENT PRIMARY KEY,
    usuario VARCHAR(50) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    email VARCHAR(100),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### Crear tabla de turnos:
```sql
CREATE TABLE turnos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    fecha DATE NOT NULL,
    hora TIME NOT NULL,
    especialidad VARCHAR(50) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### Insertar usuario de prueba:
```sql
INSERT INTO usuarios (usuario, password, email) 
VALUES ('admin', '$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', 'admin@test.com');
-- ContraseÃ±a: password
```

### 6. Configurar Google OAuth (Opcional)

1. Ve a [Google Cloud Console](https://console.cloud.google.com/)
2. Crea un nuevo proyecto o selecciona uno existente
3. Habilita la API de Google+
4. Crea credenciales OAuth 2.0
5. Configura la URI de redirecciÃ³n: `http://localhost/tu-proyecto/login.php`
6. Actualiza `config.php` con tus credenciales:

```php
$google_client->setClientId('TU_CLIENT_ID');
$google_client->setClientSecret('TU_CLIENT_SECRET');
```

## ğŸš€ Uso del Sistema

### Acceso al sistema
1. Abre tu navegador
2. Ve a: `http://localhost/tu-proyecto/`

### Credenciales de prueba
- **Usuario**: admin
- **ContraseÃ±a**: password

### Funcionalidades principales

#### 1. Iniciar SesiÃ³n
- **Login local**: Usa usuario y contraseÃ±a
- **Google OAuth**: Haz clic en "Login With Google"

#### 2. GestiÃ³n de Turnos
- **Agregar turno**: Completa el formulario con paciente, fecha, hora y especialidad
- **Editar turno**: Haz clic en "Editar" en la tabla
- **Eliminar turno**: Haz clic en "Eliminar" (con confirmaciÃ³n)
- **Filtrar**: Selecciona una especialidad para filtrar

#### 3. Cerrar SesiÃ³n
- Haz clic en "Cerrar sesiÃ³n" para salir del sistema

## ğŸ“ Estructura del Proyecto

```
tu-proyecto/
â”œâ”€â”€ index.php          # PÃ¡gina de login
â”œâ”€â”€ login.php          # Procesamiento de autenticaciÃ³n
â”œâ”€â”€ sistema.php        # Dashboard principal
â”œâ”€â”€ logout.php         # Cerrar sesiÃ³n
â”œâ”€â”€ config.php         # ConfiguraciÃ³n de Google OAuth
â”œâ”€â”€ con_db.php         # ConexiÃ³n a base de datos
â”œâ”€â”€ register.php       # Registro de usuarios
â”œâ”€â”€ recuperar_clave.php # RecuperaciÃ³n de contraseÃ±a
â””â”€â”€ README.md          # Este archivo
```

## ğŸ”§ SoluciÃ³n de Problemas

### Error: "No se puede iniciar sesiÃ³n"
- Verifica que Apache y MySQL estÃ©n ejecutÃ¡ndose
- Confirma que la base de datos `clinica` existe
- Revisa las credenciales en `con_db.php`

### Error: "Google OAuth no funciona"
- Verifica las credenciales en `config.php`
- Confirma que la URI de redirecciÃ³n estÃ© configurada correctamente
- AsegÃºrate de que `composer install` se ejecutÃ³ correctamente

### Error: "PÃ¡gina no encontrada"
- Verifica que los archivos estÃ©n en `c:/xampp/htdocs/`
- Confirma que Apache estÃ© ejecutÃ¡ndose
- Revisa la URL en el navegador

## ğŸ›¡ï¸ Seguridad

- Las contraseÃ±as se almacenan hasheadas con `password_hash()`
- Se usan prepared statements para prevenir SQL injection
- Las sesiones se manejan de forma segura
- ValidaciÃ³n de datos en el frontend y backend

## ğŸ“ Notas Adicionales

- El sistema estÃ¡ configurado para desarrollo local
- Para producciÃ³n, actualiza las configuraciones de seguridad
- Cambia las credenciales de Google OAuth para tu dominio
- Considera implementar HTTPS en producciÃ³n

## ğŸ¤ Soporte

Si encuentras problemas:
1. Verifica que todos los requisitos estÃ©n instalados
2. Revisa los logs de error de Apache
3. Confirma la configuraciÃ³n de la base de datos
4. AsegÃºrate de que las dependencias estÃ©n instaladas

---

**Â¡Listo para usar!** ğŸ‰
